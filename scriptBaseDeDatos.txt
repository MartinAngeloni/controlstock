CREATE TABLE [dbo].[Color] (
    [id]    INT          IDENTITY (1, 1) NOT NULL,
    [color] VARCHAR (50) NULL,
    PRIMARY KEY CLUSTERED ([id] ASC)
);


CREATE TABLE [dbo].[Marca] (
    [id]     INT          IDENTITY (1, 1) NOT NULL,
    [nombre] VARCHAR (50) NOT NULL,
    PRIMARY KEY CLUSTERED ([id] ASC)
);


CREATE TABLE [dbo].[Pedido] (
    [id_pedido]   INT          NOT NULL,
    [descripcion] VARCHAR (50) NULL,
    [fecha]       DATETIME     NOT NULL,
    PRIMARY KEY CLUSTERED ([id_pedido] ASC)
);

CREATE TABLE [dbo].[Producto] (
    [Cod_Producto] INT          IDENTITY (1, 1) NOT NULL,
    [Nombre]       VARCHAR (50) NOT NULL,
    [Modelo]       VARCHAR (50) NULL,
    [Descripcion]  VARCHAR (50) NULL,
    PRIMARY KEY CLUSTERED ([Cod_Producto] ASC)
);

CREATE TABLE [dbo].[Usuario] (
    [Id]          INT          IDENTITY (1, 1) NOT NULL,
    [Usuario]     VARCHAR (50) NULL,
    [Contrasenia] VARCHAR (50) NULL,
    [Tipo]        VARCHAR (50) NULL,
    PRIMARY KEY CLUSTERED ([Id] ASC)
);


CREATE TABLE [dbo].[Venta] (
    [id]          INT          NOT NULL,
    [fecha]       DATETIME     NOT NULL,
    [descripcion] VARCHAR (50) NULL,
    [total]       INT          NULL,
    PRIMARY KEY CLUSTERED ([id] ASC)
);



CREATE TABLE [dbo].[ProdXPedido] (
    [id]          INT        NOT NULL,
    [id_producto] INT        NOT NULL,
    [id_pedido]   INT        NOT NULL,
    [cantidad]    INT        NOT NULL,
    [precio]      FLOAT (53) NULL,
    PRIMARY KEY CLUSTERED ([id] ASC),
    CONSTRAINT [FK_ProdXPedido_ToTable_1] FOREIGN KEY ([id_pedido]) REFERENCES [dbo].[Pedido] ([id_pedido]),
    CONSTRAINT [FK_ProdXPedido_ToTable] FOREIGN KEY ([id_producto]) REFERENCES [dbo].[Producto] ([Cod_Producto])
);


CREATE TABLE [dbo].[ProdXVenta] (
    [id]          INT NOT NULL,
    [id_producto] INT NOT NULL,
    [id_venta]    INT NOT NULL,
    [cantidad]    INT NOT NULL,
    [subtotal]    INT NULL,
    PRIMARY KEY CLUSTERED ([id] ASC),
    CONSTRAINT [FK_ProdXVenta_ToTable_1] FOREIGN KEY ([id_venta]) REFERENCES [dbo].[Venta] ([id]),
    CONSTRAINT [FK_ProdXVenta_ToTable] FOREIGN KEY ([id_producto]) REFERENCES [dbo].[Producto] ([Cod_Producto])
);


CREATE TABLE [dbo].[ProXm] (
    [id]           INT          IDENTITY (1, 1) NOT NULL,
    [id_marca]     INT          NOT NULL,
    [id_producto]  INT          NOT NULL,
    [precio]       FLOAT (53)   NULL,
    [id_color]     INT          NOT NULL,
    [stock]        INT          NOT NULL,
    [codigo]       VARCHAR (50) NOT NULL,
    [alerta_stock] INT          NULL,
    PRIMARY KEY CLUSTERED ([id] ASC),
    CONSTRAINT [FK_Table_ToTable1] FOREIGN KEY ([id_marca]) REFERENCES [dbo].[Marca] ([id]),
    CONSTRAINT [FK_ProXm_ToTable] FOREIGN KEY ([id_color]) REFERENCES [dbo].[Color] ([id]),
    CONSTRAINT [FK_Table_ToTable2] FOREIGN KEY ([id_producto]) REFERENCES [dbo].[Producto] ([Cod_Producto])
);







